虚拟机化技术用于在操作系统中模拟独立运行的操作系统，以支持提供操作系统级别隔离的目的。目前操作系统分成两种：

- 完全虚拟化：完全通过软件手段模拟操作系统
- 半虚拟化（或称准虚拟化）：软件虚拟化的同时，需要依赖一部分硬件虚拟化特性支持来完成

虚拟技术主要由计算机的四大部份组成，以下会分别介绍：

- CPU 虚拟化
- 内存虚拟化
- I/O 设备：例如磁盘
- 网络设备

## CPU 虚拟化
CPU 虚拟化有两种实现：完全虚拟化和半虚拟化。

### CPU 完全虚拟化
在早期没有硬件虚拟化技术之前，VMWare 公司使用的 DBT（动态二进制翻译）技术，工作原理是将二进制的 CPU 指令重新翻译。CPU 指令有四个权限级别 ring0 到 ring3，现代操作系统通常只使用 ring0 和 ring3。ring0 指令只能由操作系统执行，软件运行在 ring3 等级下。因此 VM 的 ring0 指令需要 VMM 捕获并有由其模拟执行。
劣势有两个：

- 仍然有一部份特权指令无法捕获
- 每条 CPU 指令都会经过 DBT 翻译导致性能非常差

### CPU 半虚拟化
随着虚拟化技术的发展，软件层面完全虚拟化仍然有很多短板。CPU 公司推出了一件层面的虚拟化，CPU 将分为两个模式 root 模式和非 root 模式，两个模式拥有各自的 ring0 到 ring3 权限等级。其中 root 模式由 VMM 来运行，其中的 VM 会运行在非 root 模式。

## 内存虚拟化
MMU

## IO 设备虚拟化
IO 设备分成两种端口映射（PMIO）和内存映射（MMIO）
